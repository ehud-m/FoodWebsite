(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-746908e5"],{37906:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Search Page")]),e.notSubmitted?t("b-form",{attrs:{id:"searchForm",label:"serach recipe"},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)},reset:e.onReset}},[t("label",{attrs:{for:"recipe_to_search"}},[e._v("recipe to search:")]),t("b-form-input",{attrs:{placeholder:"Enter recipe name"},model:{value:e.form.recipeName,callback:function(t){e.$set(e.form,"recipeName",t)},expression:"form.recipeName"}}),t("br"),t("label",{attrs:{for:"numberOfRecipes"}},[e._v("Choose how many recipes:")]),t("b-form-select",{attrs:{options:e.numberOfRecipes},model:{value:e.form.numberOfRecipes,callback:function(t){e.$set(e.form,"numberOfRecipes",t)},expression:"form.numberOfRecipes"}}),t("br"),t("label",{attrs:{for:"cuisines"}},[e._v("Choose cuisine:")]),t("b-form-select",{attrs:{options:e.cuisines},model:{value:e.form.cuisine,callback:function(t){e.$set(e.form,"cuisine",t)},expression:"form.cuisine"}}),t("br"),t("label",{attrs:{for:"diet"}},[e._v("Choose diet:")]),t("b-form-select",{attrs:{options:e.diets},model:{value:e.form.diets,callback:function(t){e.$set(e.form,"diets",t)},expression:"form.diets"}}),t("br"),t("label",{attrs:{for:"intolerances"}},[e._v("Choose intolerances:")]),t("b-form-select",{attrs:{options:e.intolerances},model:{value:e.form.intolerances,callback:function(t){e.$set(e.form,"intolerances",t)},expression:"form.intolerances"}}),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),t("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1):e._e(),e.submitted?t("div",[e.didntFoundRecipe?e._e():t("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSortSubmit.apply(null,arguments)}}},[t("b-form-select",{attrs:{options:e.sortSearchResultBy},model:{value:e.form.sortSearchResultBy,callback:function(t){e.$set(e.form,"sortSearchResultBy",t)},expression:"form.sortSearchResultBy"}}),t("label",[e._v("Choose Order")]),t("b-form-select",{attrs:{options:e.order},model:{value:e.form.orderform,callback:function(t){e.$set(e.form,"orderform",t)},expression:"form.orderform"}}),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1),e.didntFoundRecipe?t("div",[t("h1",[e._v("Sorry, we didnt found what you are looking for")])]):t("RecipePreviewList",{ref:"searchResults",staticClass:"recipePreviewList",attrs:{prev:e.preview,title:"Search results"}}),t("b-button",{on:{click:e.searchAgain}},[e._v("Search again")])],1):e._e()],1)},s=[],o=r("99d8"),n={name:"cuisines",mounted(){void 0!=this.$root.store.last_search&&(0==this.$root.store.last_search.data.length?this.didntFoundRecipe=!0:this.preview=this.$root.store.last_search,this.notSubmitted=!1,this.submitted=!0)},data(){return{form:{recipeName:"",numberOfRecipes:"",cuisine:"",diets:"",intolerances:""},didntFoundRecipe:!1,order:["Ascending","Descending"],sortSearchResultBy:["Time to make","Popularity"],preview:Object,notSubmitted:!0,submitted:!1,selected:"",numberOfRecipes:[5,10,15],cuisines:["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diets:["Gluten Free",,"Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"]}},methods:{async onSubmit(e){var t=JSON.parse(JSON.stringify(this.form));const r=await this.axios.get("/recipes/searchRecipe",{params:{recipeSearchName:t["recipeName"],numberOfRecipes:t["numberOfRecipes"],cuisine:t["cuisine"],diet:t["diets"],intolerances:t["intolerances"]}});0==r.data.length?this.didntFoundRecipe=!0:this.didntFoundRecipe=!1,this.notSubmitted=!1,this.submitted=!0,this.preview=r,this.$root.store.last_search=r},onReset(e){e.preventDefault(),this.form.recipeName="",this.form.numberOfRecipes="",this.form.cuisine="",this.form.diets="",this.form.intolerances="",this.show=!1,this.$nextTick(()=>{this.show=!0})},onSortSubmit(e){let t=this.form.orderform;console.log(t),void 0==t&&(t="Ascending"),console.log(t),"Popularity"==this.form.sortSearchResultBy?"Ascending"==t?this.preview.data.sort((function(e,t){return e.popularity-t.popularity})):this.preview.data.sort((function(e,t){return t.popularity-e.popularity})):"Ascending"==t?this.preview.data.sort((function(e,t){return e.timeToMake-t.timeToMake})):this.preview.data.sort((function(e,t){return t.timeToMake-e.timeToMake})),this.$refs.searchResults.updateRecipes()},searchAgain(e){this.notSubmitted=!0,this.submitted=!1}},components:{RecipePreviewList:o["a"]}},a=n,c=r("2877"),u=Object(c["a"])(a,i,s,!1,null,"3e345ce3",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-746908e5.51637887.js.map