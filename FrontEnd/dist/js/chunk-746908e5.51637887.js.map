{"version":3,"sources":["webpack:///./src/pages/SearchPage.vue","webpack:///src/pages/SearchPage.vue","webpack:///./src/pages/SearchPage.vue?2410","webpack:///./src/pages/SearchPage.vue?e10c"],"names":["render","_vm","this","_c","_self","staticClass","_v","notSubmitted","attrs","on","$event","preventDefault","onSubmit","apply","arguments","onReset","model","value","form","recipeName","callback","$$v","$set","expression","numberOfRecipes","cuisines","cuisine","diets","intolerances","_e","submitted","didntFoundRecipe","onSortSubmit","sortSearchResultBy","order","orderform","ref","preview","searchAgain","staticRenderFns","name","mounted","data","selected","methods","params","recipeSearchName","diet","event","console","orderBy","components","RecipePreviewList","component"],"mappings":"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","file":"js/chunk-746908e5.51637887.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Search Page\")]),(_vm.notSubmitted)?_c('b-form',{attrs:{\"id\":\"searchForm\",\"label\":\"serach recipe\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)},\"reset\":_vm.onReset}},[_c('label',{attrs:{\"for\":\"recipe_to_search\"}},[_vm._v(\"recipe to search:\")]),_c('b-form-input',{attrs:{\"placeholder\":\"Enter recipe name\"},model:{value:(_vm.form.recipeName),callback:function ($$v) {_vm.$set(_vm.form, \"recipeName\", $$v)},expression:\"form.recipeName\"}}),_c('br'),_c('label',{attrs:{\"for\":\"numberOfRecipes\"}},[_vm._v(\"Choose how many recipes:\")]),_c('b-form-select',{attrs:{\"options\":_vm.numberOfRecipes},model:{value:(_vm.form.numberOfRecipes),callback:function ($$v) {_vm.$set(_vm.form, \"numberOfRecipes\", $$v)},expression:\"form.numberOfRecipes\"}}),_c('br'),_c('label',{attrs:{\"for\":\"cuisines\"}},[_vm._v(\"Choose cuisine:\")]),_c('b-form-select',{attrs:{\"options\":_vm.cuisines},model:{value:(_vm.form.cuisine),callback:function ($$v) {_vm.$set(_vm.form, \"cuisine\", $$v)},expression:\"form.cuisine\"}}),_c('br'),_c('label',{attrs:{\"for\":\"diet\"}},[_vm._v(\"Choose diet:\")]),_c('b-form-select',{attrs:{\"options\":_vm.diets},model:{value:(_vm.form.diets),callback:function ($$v) {_vm.$set(_vm.form, \"diets\", $$v)},expression:\"form.diets\"}}),_c('br'),_c('label',{attrs:{\"for\":\"intolerances\"}},[_vm._v(\"Choose intolerances:\")]),_c('b-form-select',{attrs:{\"options\":_vm.intolerances},model:{value:(_vm.form.intolerances),callback:function ($$v) {_vm.$set(_vm.form, \"intolerances\", $$v)},expression:\"form.intolerances\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")]),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1):_vm._e(),(_vm.submitted)?_c('div',[(!_vm.didntFoundRecipe)?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSortSubmit.apply(null, arguments)}}},[_c('b-form-select',{attrs:{\"options\":_vm.sortSearchResultBy},model:{value:(_vm.form.sortSearchResultBy),callback:function ($$v) {_vm.$set(_vm.form, \"sortSearchResultBy\", $$v)},expression:\"form.sortSearchResultBy\"}}),_c('label',[_vm._v(\"Choose Order\")]),_c('b-form-select',{attrs:{\"options\":_vm.order},model:{value:(_vm.form.orderform),callback:function ($$v) {_vm.$set(_vm.form, \"orderform\", $$v)},expression:\"form.orderform\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")])],1):_vm._e(),(_vm.didntFoundRecipe)?_c('div',[_c('h1',[_vm._v(\"Sorry, we didnt found what you are looking for\")])]):_c('RecipePreviewList',{ref:\"searchResults\",staticClass:\"recipePreviewList\",attrs:{\"prev\":_vm.preview,\"title\":\"Search results\"}}),_c('b-button',{on:{\"click\":_vm.searchAgain}},[_vm._v(\"Search again\")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"title\">Search Page</h1>\r\n    <b-form v-if=\"notSubmitted\" @submit.prevent=\"onSubmit\" @reset=\"onReset\" id=\"searchForm\" label=\"serach recipe\">\r\n      <label for=\"recipe_to_search\">recipe to search:</label>\r\n      <b-form-input v-model=\"form.recipeName\" placeholder=\"Enter recipe name\"></b-form-input>\r\n      <br>\r\n      <label for=\"numberOfRecipes\">Choose how many recipes:</label>\r\n      <b-form-select v-model=\"form.numberOfRecipes\" :options=\"numberOfRecipes\"></b-form-select>\r\n      <br>\r\n      <label for=\"cuisines\">Choose cuisine:</label>\r\n      <b-form-select v-model=\"form.cuisine\" :options=\"cuisines\"></b-form-select>\r\n      <br>     \r\n      <label for=\"diet\">Choose diet:</label>\r\n      <b-form-select v-model=\"form.diets\" :options=\"diets\"></b-form-select>\r\n      <br>\r\n      <label for=\"intolerances\">Choose intolerances:</label>\r\n      <b-form-select v-model=\"form.intolerances\" :options=\"intolerances\"></b-form-select>\r\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\r\n      <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\r\n    </b-form>\r\n    <div v-if=\"submitted\">\r\n      <b-form v-if=\"!didntFoundRecipe\" @submit.prevent=\"onSortSubmit\">\r\n        <b-form-select v-model=\"form.sortSearchResultBy\" :options=\"sortSearchResultBy\"></b-form-select>\r\n        <label>Choose Order</label>\r\n        <b-form-select v-model=\"form.orderform\" :options=\"order\"></b-form-select>\r\n        <b-button type=\"submit\" variant=\"primary\">Submit</b-button>    \r\n      </b-form> \r\n      <div v-if=\"didntFoundRecipe\">\r\n          <h1>Sorry, we didnt found what you are looking for</h1>\r\n      </div>\r\n      <RecipePreviewList  v-else ref=\"searchResults\" :prev=\"preview\" title=\"Search results\" class=\"recipePreviewList\"/>\r\n      <b-button @click=\"searchAgain\">Search again</b-button>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecipePreviewList from \"../components/RecipePreviewList.vue\";\r\n// import store from \"../store\"\r\n//// cuisineVal:\r\n\r\nexport default {\r\n    name: \"cuisines\",\r\n    mounted(){\r\n      if (this.$root.store.last_search != undefined){\r\n         if (this.$root.store.last_search.data.length == 0){\r\n              this.didntFoundRecipe = true\r\n            }\r\n          else{\r\n              \r\n            this.preview = this.$root.store.last_search\r\n            \r\n          }\r\n          this.notSubmitted = false\r\n          this.submitted = true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            form: {\r\n                recipeName: \"\",\r\n                numberOfRecipes: \"\",\r\n                cuisine: \"\",\r\n                diets: \"\",\r\n                intolerances: \"\"\r\n            },\r\n            didntFoundRecipe: false,\r\n            order: [\"Ascending\", \"Descending\"],\r\n            sortSearchResultBy: [\"Time to make\",\"Popularity\"],\r\n            preview : Object,\r\n            notSubmitted: true,\r\n            submitted: false,\r\n            selected: \"\",\r\n            numberOfRecipes: [5, 10, 15],\r\n            cuisines: [\"African\", \"American\", \"British\", \"Cajun\", \"Caribbean\", \"Chinese\", \"Eastern European\", \"European\", \"French\", \"German\", \"Greek\", \"Indian\", \"Irish\", \"Italian\", \"Japanese\", \"Jewish\", \"Korean\", \"Latin American\", \"Mediterranean\", \"Mexican\", \"Middle Eastern\", \"Nordic\", \"Southern\", \"Spanish\", \"Thai\", \"Vietnamese\"],\r\n            diets: [\"Gluten Free\", , \"Ketogenic\", \"Vegetarian\", \"Lacto-Vegetarian\", \"Ovo-Vegetarian\", \"Vegan\", \"Pescetarian\", \"Paleo\", \"Primal\", \"Low FODMAP\", \"Whole30\"],\r\n            intolerances: [\"Dairy\", \"Egg\", \"Gluten\", \"Grain\", \"Peanut\", \"Seafood\", \"Sesame\", \"Shellfish\", \"Soy\", \"Sulfite\", \"Tree Nut\", \"Wheat\"]\r\n        };\r\n    },\r\n    methods: {\r\n        async onSubmit(event) {\r\n            var par = JSON.parse(JSON.stringify(this.form));\r\n            // alert(response.data);\r\n            const response = await this.axios.get( \"/recipes/searchRecipe\", {\r\n                params: {\r\n                    recipeSearchName: par[\"recipeName\"],\r\n                    numberOfRecipes: par[\"numberOfRecipes\"],\r\n                    cuisine: par[\"cuisine\"],\r\n                    diet: par[\"diets\"],\r\n                    intolerances: par[\"intolerances\"]\r\n                }\r\n            });\r\n            if (response.data.length == 0){\r\n              this.didntFoundRecipe = true\r\n            }\r\n            else{\r\n              this.didntFoundRecipe = false\r\n            }\r\n            this.notSubmitted = false\r\n            this.submitted = true\r\n            this.preview = response\r\n            this.$root.store.last_search = response\r\n        },\r\n        onReset(event) {\r\n            event.preventDefault();\r\n            // Reset our form values\r\n            this.form.recipeName = \"\";\r\n            this.form.numberOfRecipes = \"\";\r\n            this.form.cuisine = \"\";\r\n            this.form.diets = \"\";\r\n            this.form.intolerances = \"\";\r\n            // Trick to reset/clear native browser form validation state\r\n            this.show = false;\r\n            this.$nextTick(() => {\r\n                this.show = true;\r\n            });\r\n            \r\n        },\r\n        onSortSubmit(event){\r\n          let orderBy = this.form.orderform\r\n          console.log(orderBy)\r\n          if (orderBy == undefined){\r\n            orderBy = \"Ascending\"\r\n          }\r\n          console.log(orderBy)\r\n          if (this.form.sortSearchResultBy == \"Popularity\"){\r\n            if (orderBy == \"Ascending\"){\r\n              this.preview.data.sort(function (a,b){return  a.popularity - b.popularity});\r\n            }\r\n            else{\r\n              this.preview.data.sort(function (a,b){return  b.popularity - a.popularity});\r\n            }\r\n          }\r\n          else{\r\n            if (orderBy == \"Ascending\"){\r\n              this.preview.data.sort(function (a,b){return  a.timeToMake - b.timeToMake});\r\n            }\r\n            else{\r\n              this.preview.data.sort(function (a,b){return  b.timeToMake - a.timeToMake});\r\n            }\r\n          }\r\n            this.$refs.searchResults.updateRecipes()\r\n        },\r\n        \r\n        searchAgain(event) {\r\n          this.notSubmitted = true\r\n          this.submitted = false\r\n        }\r\n        \r\n    },\r\n    components: { RecipePreviewList }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPage.vue?vue&type=template&id=3e345ce3&scoped=true&\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e345ce3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}